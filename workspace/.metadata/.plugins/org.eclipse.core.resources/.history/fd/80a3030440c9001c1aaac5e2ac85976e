#include "system.h"
#include <stdio.h>
#include "audio_synth.h"


static volatile struct AUDIO_SYNTH_STRUCT* keys = 0x4001400;
static volatile struct ADSR_STRUCT* adsr = 0x4001480;

void set_note(alt_u8 note, alt_u8 vel) {
	alt_u32 set_val;

	if(vel == 0) {
		set_val = keys->NOTE[note];
	}
	else {
		set_val = 0x80 + vel;
	}

	keys->NOTE[note] = set_val;
}

void set_adsr(alt_u8 par, alt_u32 val) {
	adsr->VAL[par] = val;
}
